{"ast":null,"code":"import _classCallCheck from \"/Users/Dylan/bootcamp/Projects/can-i-eat-that/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/Dylan/bootcamp/Projects/can-i-eat-that/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/Dylan/bootcamp/Projects/can-i-eat-that/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/Dylan/bootcamp/Projects/can-i-eat-that/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport _regeneratorRuntime from \"/Users/Dylan/bootcamp/Projects/can-i-eat-that/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/Dylan/bootcamp/Projects/can-i-eat-that/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/Users/Dylan/bootcamp/Projects/can-i-eat-that/client/src/utils/API.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nvar APIURL = \"https://api.edamam.com/search?q=\";\nvar APIKEY = \"&app_key=\".concat(process.env.REACT_APP_EDAMAM_API_KEY);\nvar APIID = \"&app_id=\".concat(process.env.EDAMAM_API_ID);\nvar maxTime = \"&time=30\";\nvar maxIngreds = \"&ingr=10\";\n\nvar fetchRecipes = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var _len,\n        ingredients,\n        _key,\n        mappedIngreds,\n        url,\n        res,\n        recipes,\n        _args = arguments;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            for (_len = _args.length, ingredients = new Array(_len), _key = 0; _key < _len; _key++) {\n              ingredients[_key] = _args[_key];\n            }\n\n            mappedIngreds = ingredients.map(function (ingredient, idx) {\n              if (idx < ingredients.length - 1) {\n                return ingredient + \"+\";\n              } else {\n                return ingredient;\n              }\n            }).join(\"\");\n            url = \"\".concat(APIURL).concat(mappedIngreds).concat(maxIngreds).concat(maxTime).concat(APIID).concat(APIKEY);\n            _context.next = 5;\n            return axios.get(url);\n\n          case 5:\n            res = _context.sent;\n            recipes = res.data;\n            console.log(recipes);\n            addToList(recipes);\n\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function fetchRecipes() {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nfetchRecipes(\"zucchini\", \"broccoli\", \"carrots\");\n\nvar ApiApp = /*#__PURE__*/function (_Component) {\n  _inherits(ApiApp, _Component);\n\n  var _super = _createSuper(ApiApp);\n\n  function ApiApp(props) {\n    var _this;\n\n    _classCallCheck(this, ApiApp);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      items: [],\n      isLoaded: false\n    };\n    return _this;\n  }\n\n  _createClass(ApiApp, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      fetch(\"https://api.edamam.com/search\").then(function (res) {\n        return res.json();\n      }).then(function (json) {\n        _this2.setState({\n          isLoaded: true,\n          items: json\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$state = this.state,\n          isLoaded = _this$state.isLoaded,\n          items = _this$state.items;\n\n      if (!isLoaded) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 14\n          }\n        }, \"Loading....\");\n      } else {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"Search\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(\"ul\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 11\n          }\n        }, items.map(function (item) {\n          return /*#__PURE__*/React.createElement(\"li\", {\n            key: item.id,\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 15\n            }\n          }, item.name);\n        }), \";\"));\n      }\n    }\n  }]);\n\n  return ApiApp;\n}(Component);\n\nexport default {\n  // Gets all posts\n  getPosts: function getPosts() {\n    return axios.get(\"/api/posts\");\n  },\n  // Gets the post with the given id\n  getPost: function getPost(id) {\n    return axios.get(\"/api/posts/\" + id);\n  },\n  // Deletes the post with the given id\n  deletePost: function deletePost(id) {\n    return axios.delete(\"/api/posts/\" + id);\n  },\n  // Saves a post to the dat API\n  savePost: function savePost(postData) {\n    return axios.post(\"/api/posts\", postData);\n  }\n};","map":{"version":3,"sources":["/Users/Dylan/bootcamp/Projects/can-i-eat-that/client/src/utils/API.js"],"names":["React","Component","axios","APIURL","APIKEY","process","env","REACT_APP_EDAMAM_API_KEY","APIID","EDAMAM_API_ID","maxTime","maxIngreds","fetchRecipes","ingredients","mappedIngreds","map","ingredient","idx","length","join","url","get","res","recipes","data","console","log","addToList","ApiApp","props","state","items","isLoaded","fetch","then","json","setState","item","id","name","getPosts","getPost","deletePost","delete","savePost","postData","post"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,IAAMC,MAAM,GAAG,kCAAf;AACA,IAAMC,MAAM,sBAAeC,OAAO,CAACC,GAAR,CAAYC,wBAA3B,CAAZ;AACA,IAAMC,KAAK,qBAAcH,OAAO,CAACC,GAAR,CAAYG,aAA1B,CAAX;AAEA,IAAMC,OAAO,GAAG,UAAhB;AACA,IAAMC,UAAU,aAAhB;;AAEA,IAAMC,YAAY;AAAA,sEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,sCAAUC,WAAV;AAAUA,cAAAA,WAAV;AAAA;;AACbC,YAAAA,aADa,GACGD,WAAW,CAC9BE,GADmB,CACf,UAACC,UAAD,EAAaC,GAAb,EAAqB;AACxB,kBAAIA,GAAG,GAAGJ,WAAW,CAACK,MAAZ,GAAqB,CAA/B,EAAkC;AAChC,uBAAOF,UAAU,GAAG,GAApB;AACD,eAFD,MAEO;AACL,uBAAOA,UAAP;AACD;AACF,aAPmB,EAQnBG,IARmB,CAQd,EARc,CADH;AAWbC,YAAAA,GAXa,aAWJjB,MAXI,SAWKW,aAXL,SAWqBH,UAXrB,SAWkCD,OAXlC,SAW4CF,KAX5C,SAWoDJ,MAXpD;AAAA;AAAA,mBAYDF,KAAK,CAACmB,GAAN,CAAUD,GAAV,CAZC;;AAAA;AAYbE,YAAAA,GAZa;AAabC,YAAAA,OAba,GAaHD,GAAG,CAACE,IAbD;AAcnBC,YAAAA,OAAO,CAACC,GAAR,CAAYH,OAAZ;AACAI,YAAAA,SAAS,CAACJ,OAAD,CAAT;;AAfmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAZX,YAAY;AAAA;AAAA;AAAA,GAAlB;;AAkBAA,YAAY,CAAC,UAAD,EAAa,UAAb,EAAyB,SAAzB,CAAZ;;IAGMgB,M;;;;;AACJ,kBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACXC,MAAAA,KAAK,EAAE,EADI;AAEXC,MAAAA,QAAQ,EAAE;AAFC,KAAb;AAFiB;AAMlB;;;;WAED,6BAAoB;AAAA;;AAClBC,MAAAA,KAAK,CAAC,+BAAD,CAAL,CACCC,IADD,CACM,UAAAZ,GAAG;AAAA,eAAIA,GAAG,CAACa,IAAJ,EAAJ;AAAA,OADT,EAECD,IAFD,CAEM,UAAAC,IAAI,EAAI;AACZ,QAAA,MAAI,CAACC,QAAL,CAAc;AACZJ,UAAAA,QAAQ,EAAE,IADE;AAEZD,UAAAA,KAAK,EAAEI;AAFK,SAAd;AAID,OAPD;AAQD;;;WAED,kBAAS;AAAA;;AACP,wBAA0B,KAAKL,KAA/B;AAAA,UAAME,QAAN,eAAMA,QAAN;AAAA,UAAgBD,KAAhB,eAAgBA,KAAhB;;AAEA,UAAG,CAACC,QAAJ,EAAc;AACZ,4BAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAP;AACD,OAFD,MAGK;AACH,4BACE;AAAK,UAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACGD,KAAK,CAAChB,GAAN,CAAU,UAAAsB,IAAI;AAAA,8BACb;AAAI,YAAA,GAAG,EAAEA,IAAI,CAACC,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACGD,IAAI,CAACE,IADR,CADa;AAAA,SAAd,CADH,MADF,CADF;AAYD;AACA;;;;EAxCgBtC,S;;AA8CrB,eAAe;AACb;AACAuC,EAAAA,QAAQ,EAAE,oBAAW;AACnB,WAAOtC,KAAK,CAACmB,GAAN,CAAU,YAAV,CAAP;AACD,GAJY;AAKb;AACAoB,EAAAA,OAAO,EAAE,iBAASH,EAAT,EAAa;AACpB,WAAOpC,KAAK,CAACmB,GAAN,CAAU,gBAAgBiB,EAA1B,CAAP;AACD,GARY;AASb;AACAI,EAAAA,UAAU,EAAE,oBAASJ,EAAT,EAAa;AACvB,WAAOpC,KAAK,CAACyC,MAAN,CAAa,gBAAgBL,EAA7B,CAAP;AACD,GAZY;AAab;AACAM,EAAAA,QAAQ,EAAE,kBAASC,QAAT,EAAmB;AAC3B,WAAO3C,KAAK,CAAC4C,IAAN,CAAW,YAAX,EAAyBD,QAAzB,CAAP;AACD;AAhBY,CAAf","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nconst APIURL = \"https://api.edamam.com/search?q=\";\nconst APIKEY = `&app_key=${process.env.REACT_APP_EDAMAM_API_KEY}`;\nconst APIID = `&app_id=${process.env.EDAMAM_API_ID}`;\n\nconst maxTime = \"&time=30\";\nconst maxIngreds = `&ingr=10`;\n\nconst fetchRecipes = async (...ingredients) => {\n  const mappedIngreds = ingredients\n    .map((ingredient, idx) => {\n      if (idx < ingredients.length - 1) {\n        return ingredient + \"+\";\n      } else {\n        return ingredient;\n      }\n    })\n    .join(\"\");\n\n  const url = `${APIURL}${mappedIngreds}${maxIngreds}${maxTime}${APIID}${APIKEY}`;\n  const res = await axios.get(url);\n  const recipes = res.data;\n  console.log(recipes);\n  addToList(recipes)\n};\n\nfetchRecipes(\"zucchini\", \"broccoli\", \"carrots\");\n\n\nclass ApiApp extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      items: [],\n      isLoaded: false\n    }\n  }\n\n  componentDidMount() {\n    fetch(\"https://api.edamam.com/search\")\n    .then(res => res.json())\n    .then(json => {\n      this.setState({\n        isLoaded: true,\n        items: json,\n      })\n    });\n  }\n\n  render() {\n    var { isLoaded, items } = this.state;\n\n    if(!isLoaded) {\n      return <div>Loading....</div>;\n    }\n    else {\n      return (\n        <div className=\"Search\">\n          <ul>\n            {items.map(item => (\n              <li key={item.id}>\n                {item.name}\n              </li>\n\n            ))};\n          </ul>\n        </div>\n      )\n    }\n    }\n  }\n\n\n\n\nexport default {\n  // Gets all posts\n  getPosts: function() {\n    return axios.get(\"/api/posts\");\n  },\n  // Gets the post with the given id\n  getPost: function(id) {\n    return axios.get(\"/api/posts/\" + id);\n  },\n  // Deletes the post with the given id\n  deletePost: function(id) {\n    return axios.delete(\"/api/posts/\" + id);\n  },\n  // Saves a post to the dat API\n  savePost: function(postData) {\n    return axios.post(\"/api/posts\", postData);\n  }\n};\n\n"]},"metadata":{},"sourceType":"module"}